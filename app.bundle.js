!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,d=0,l=[],p=n(4);function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var a=d++;n=c||(c=m(t)),r=x.bind(null,n,a,!1),o=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return u(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&u(f(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var y,w=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function x(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){var r=n(3);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(0)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto&display=swap);",""]),t.push([e.i,":root {\n  --text-color: #111;\n  --title-color: #cc0000;\n  --background-color: #eee;\n  --foreground-color: #fff;\n  --box-padding: 0.5rem 1rem;\n  --box-border: 0.1rem solid #111;\n  --box-border-radius: 0.5rem;\n}\n\n* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: 'Roboto', sans-serif;\n}\n\nhtml {\n  font-size: 10px;\n\n}\n\nhtml, body {\n  overflow: hidden;\n}\n\nbody {\n  padding: 1rem;\n  height: 100vh;\n  background-color: var(--background-color);\n}\n\n.box-wrapper {\n  margin: 0 0 1rem 0;\n}\n\n.box {\n  width: 500%;\n  transition: transform 0.5s linear;\n}\n\n.box * {\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.control-wrapper {\n  display: none;\n}\n\n.control {\n  text-align: center;\n}\n\n.control button {\n  min-width: 6rem;\n  text-align: center;\n  font-size: 2rem;\n  padding: var(--box-padding);\n  border: var(--box-border);\n  background-color: var(--foreground-color);\n  border-radius: var(--box-border-radius);\n  cursor: pointer;\n  margin: 0 0.5rem;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r=n(6);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".card-wrapper {\n  list-style-type: none;\n  padding: 0 1rem;\n  word-break: break-word;\n  flex: 1 1 0;\n}\n\n.card {\n  border: var(--box-border);\n  background-color: var(--foreground-color);\n  border-radius: var(--box-border-radius);\n  padding: 1rem;\n  height: 100%;\n  position: relative;\n}\n\n.card-horizontal img {\n  width: inherit!important;\n  height: 100%!important;\n  margin: 0 1rem 0 0!important;\n  float: left!important;\n}\n\n.card-preview {\n  width: 100%;\n  vertical-align: bottom;\n  border: var(--box-border);\n  border-radius: var(--box-border-radius);\n}\n\n.card-title {\n  text-decoration: none;\n  font-size: 2rem;\n  font-weight: bold;\n  margin: 0.5rem 0;\n  color: var(--title-color);\n}\n\n.card-link-to-video {\n  position: absolute;\n  right: 1rem;\n  bottom: 1rem;\n  text-decoration: none;\n  text-align: center;\n  font-size: 2rem;\n  padding: var(--box-padding);\n  background-color: var(--title-color);\n  color: var(--foreground-color);\n  border-radius: var(--box-border-radius);\n}\n\n.card-description {\n  font-size: 1.5rem;\n}\n",""])},function(e,t,n){var r=n(8);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".pack {\n  width: 100%;\n  height: calc(100vh - 11rem);\n  display: inline-flex;\n  vertical-align: top;\n  overflow: hidden;\n}\n",""])},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".search-wrapper {\n  width: 100%;\n  margin: 0 0 1rem 0;\n}\n\n.search {\n  display: block;\n  margin: 0 auto;\n  width: 100%;\n  max-width: 60rem;\n  font-size: 2rem;\n  padding: var(--box-padding);\n  border: var(--box-border);\n  background-color: var(--foreground-color);\n  border-radius: var(--box-border-radius);\n}\n",""])},function(e,t,n){"use strict";n.r(t);class r{constructor(){this.wrap=((e,t)=>r.wrap(e,t)),this.create=((e,t,n)=>r.create(e,t,n))}static wrap(e,t){return`<${e}>${t}</${e}>`}static create(e,t,n){const r=document.createElement(e);return""!==t&&(r.className=t),""!==n&&(r.id=n),r}}n(2);const o=new r;let i,a,s,c,d,l,p=0,u=1;class f{constructor(){this.setup=(()=>f.setup()),this.setPage=(e=>f.setPage(e)),this.getPage=(()=>f.getPage()),this.setSpread=(e=>f.setSpread(e)),this.getSpread=(()=>f.getSpread()),this.spreadСards=(()=>f.spreadСards())}static setup(){(a=o.create("meta","","")).name="viewport",a.content="width=device-width, initial-scale=1",(i=document.head).appendChild(a),i.querySelector("title").innerText="youtube-client"}static setPage(e){p=e}static getPage(){return p}static setSpread(e){u=e}static getSpread(){return u}static"spreadСards"(){if(s=document.body,u=s.clientWidth>360?2:1,s.clientWidth>720&&(u=3),s.clientWidth>1080&&(u=5),p+=1,c=document.querySelector(".box"),l=document.querySelectorAll(".card"),1.5*s.clientHeight<s.clientWidth&&s.clientHeight<640){u=1,c.style.width=`${1500*p}%`;for(let e=0;e<l.length;e+=1)l[e].classList.add("card-horizontal")}else 1.5*s.clientWidth<s.clientHeight&&(u=1),c.style.width=`${1500/u*p}%`;d=document.querySelectorAll(".pack");for(let e=0;e<d.length;e+=1)d[e].style.width=`${100/p}%`}}const h="AIzaSyCg-u96GmI1-4fklavHaCUlQ9pNHf6hMws";let v="",m="";class b{constructor(){this.getJson=((e,t)=>b.getJson(e,t)),this.parseSnippet=((e,t)=>b.parseSnippet(e,t)),this.parseId=(e=>b.parseId(e))}static async getJson(e,t){let n="";switch(t){case"next":n=v;break;case"prev":n=m;break;default:n=""}const r=await fetch(`https://www.googleapis.com/youtube/v3/search?key=${h}&type=video&part=snippet&maxResults=15&q=${e}&pageToken=${n}`),o=await r.json();return({nextPageToken:v}=o),({prevPageToken:m}=o),o}static parseSnippet(e,t){return e.items.map(e=>e.snippet[t])}static parseId(e){return e.items.map(e=>e.id.videoId)}}n(5);const g=new r;let y,w,x,S,k,C;class L{constructor(){this.create=(e=>L.create(e))}static create(e){return(y=g.create("img","card-preview","")).src=`https://i.ytimg.com/vi/${e.id}/hqdefault.jpg`,y.alt=e.title,(w=g.create("h2","card-title","")).innerText=e.title,(S=g.create("p","card-description","")).innerText=e.description,(x=g.create("a","card-link-to-video","")).href=`https://www.youtube.com/watch?v=${e.id}`,x.target="_blank",x.innerText="watch",(C=g.create("div","card","")).appendChild(y),C.appendChild(w),C.appendChild(x),C.appendChild(S),(k=g.create("li","card-wrapper","")).appendChild(C),k}}n(7);const T=new L,j=new r;let E;class R{constructor(){this.create=(e=>R.create(e))}static create(e){E=j.create("ol","pack","");for(let t=0;t<e.length;t+=1)E.appendChild(T.create(e[t]));return E}}n(9);const U=new r;let I,M;class O{constructor(){this.create=(()=>O.create())}static create(){return(I=U.create("input","search","")).setAttribute("type","text"),(M=U.create("div","search-wrapper","")).appendChild(I),M}}const A=new f,$=new b,P=new R,q=new O,z=new r;let H,B,N,X,J,_,W,D,G,F,V,Q,Y,K,Z,ee=!0,te=0;const ne=[];class re{constructor(){this.start=(()=>re.addViews())}static addViews(){A.setup(),B=document.body,N=q.create(),X=N.querySelector(".search"),B.appendChild(N),J=z.create("div","box-wrapper",""),B.appendChild(J),(_=z.create("div","box","")).style.marginLeft="0px",J.appendChild(_),W=z.create("div","control-wrapper",""),B.appendChild(W),D=z.create("div","control",""),W.appendChild(D),(V=z.create("button","first-page","")).style.opacity="0.5",V.innerHTML="first",D.appendChild(V),(Q=z.create("button","prev-page","")).style.opacity="0.5",Q.innerHTML="prev",D.appendChild(Q),(Y=z.create("button","current-page","")).style.opacity="0.5",Y.innerHTML="1",D.appendChild(Y),(K=z.create("button","next-page","")).innerHTML="next",D.appendChild(K),re.addEvents()}static addEvents(){Z=1;const e=()=>{_.style.transform="translateX(0px)",te=0,Q.style.opacity=.5,V.style.opacity=.5,Y.innerText=A.getPage(),Z=1,Y.innerText=Z},t=()=>{re.scroll(1),0===te&&(Q.style.opacity=.5,V.style.opacity=.5),Z>1&&(Z-=1,Y.innerText=Z)},n=()=>{re.scroll(-1),0!==te&&(Q.style.opacity=1,V.style.opacity=1),Z+=1,Y.innerText=Z};let r,o,i=!1,a=!1;const s=()=>{i=!0},c=()=>{i&&a&&(o>50?n():o<-50&&t()),i=!1,a=!1,o=0};window.onresize=(()=>{e(),re.search()}),window.ondragstart=(()=>!1),X.addEventListener("keydown",()=>{re.search()}),J.addEventListener("wheel",e=>{e.deltaY>0?n():t()}),_.addEventListener("mousedown",e=>{r=e.clientX,s()}),_.addEventListener("mousemove",e=>{i&&(a=!0),o=r-e.clientX}),document.addEventListener("mouseup",()=>{c()}),_.addEventListener("touchstart",e=>{r=e.touches[0].clientX,s()}),_.addEventListener("touchmove",e=>{i&&(a=!0),o=r-e.touches[0].clientX}),document.addEventListener("touchend",()=>{c()}),V.addEventListener("click",()=>{e()}),Q.addEventListener("click",()=>{t()}),K.addEventListener("click",()=>{n()})}static search(){W.style.display="none",clearTimeout(H),H=setTimeout(()=>{re.request(X.value,"")},1e3)}static async request(e,t){""===t&&(_.innerHTML="",A.setPage(0),A.setSpread(1),ne.length=0,_.style.transform="translateX(0px)",te=0);const n=await $.getJson(e,t),r=$.parseId(n),o=$.parseSnippet(n,"title"),i=$.parseSnippet(n,"description"),a=[];for(let e=0;e<r.length;e+=1)a.push({id:r[e],title:o[e],description:i[e]});_.appendChild(P.create(a)),A.spreadСards(),ee=!0,F=document.querySelector(".card-wrapper").getBoundingClientRect(),G=document.querySelector(".pack").getBoundingClientRect(),W.style.display="block"}static scroll(e){e>0&&0===te||(e<0?(ne.push(te),te+=F.width*A.getSpread()*e,_.style.transform=`translateX(${te}px)`):(te=ne[ne.length-1],_.style.transform=`translateX(${te}px)`,ne.splice(-1,1)),te<-G.width*(A.getPage()-1)&&ee&&(ee=!1,re.request(X.value,"next")))}}(new re).start()}]);
//# sourceMappingURL=app.bundle.js.map